Homework 2
================
Rio Yan

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────────── tidyverse 1.3.0 ──

    ## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
    ## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
    ## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
    ## ✓ readr   1.3.1     ✓ forcats 0.5.0

    ## ── Conflicts ────────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

## Problem 1

Read the Mr. Trashwheel dataset.

``` r
trashwheel_df = 
  read_xlsx(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  )
```

Read precipitation data for 2018 and 2017.

``` r
precip_2018 = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na("month") %>% 
  mutate(year = 2018) %>% 
  relocate(year)


precip_2017 = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na("month") %>% 
  mutate(year = 2017) %>% 
  relocate(year)
```

Now combine annual precipitation.

``` r
month_df = 
  tibble(
    month = 1:12,
    month_name = month.name
  )

precip_df = 
  bind_rows(precip_2018, precip_2017)

precip_df = 
  left_join(precip_df, month_df, by = "month")
```

This dataset contains information from the Mr. Trashwheel trash
collector in Baltimore, Maryland. As trash enters the inner harbor, the
trashwheel collects that trash, and stores it in a dumpster. The dataset
contains information on year, month, and trash collected, include some
specific kinds of trash. There are a total of 344 rows in our final
dataset. Additional data sheets include month precipitation data.

The median number of sports balls found in a dumpter in 2017 was 8. The
median number of sports balls found in a dumpter in 2018 was 4. The
total preciptitation in 2017 was 32.93 inches. The total preciptitation
in 2018 was 70.33 inches.

## Problem 2

Read the NYC subway station dataset.

``` r
nycsubway_df = 
  read_csv(
    "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names()
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

Select and covert entry variable from character to logical.

``` r
nycsubway_df_clean = 
  select(nycsubway_df, line:entry, vending, ada) %>% 
  mutate(entry = recode(entry, "YES" = "TRUE", "NO" = "FALSE"),
         vending = recode(vending, "YES" = "TRUE", "NO" = "FALSE"),
         entry = as.logical(entry),
         vending = as.logical(vending)
         )
```

This dataset contains information on the NYC transit data. The dataset
contains information related to each subways stations in NYC, including
their names, latitude and longitude, routes, each entrance and exit.

For now, I imported the data from the data file and clean the variable
names. I then drop the not as useful data variables and convert entry
and vending variables from character variable to logical variable.

After cleaning, there are a total of 1868 rows and 19 columns in our
final dataset. The data right now is still not so tidy.

How many distinct stations are there?

``` r
nycsubway_df_clean = 
  distinct(nycsubway_df_clean, line, station_name, .keep_all = TRUE)
```

How many stations are ADA compliant?

``` r
count(filter(nycsubway_df_clean, ada == "TRUE"))
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1    84

Reformat route number and route name to be distinct variables.
